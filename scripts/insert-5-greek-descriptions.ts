#!/usr/bin/env bun
/**
 * Insert Greek descriptions for 5 specific events
 * Descriptions provided manually, ready to insert
 */

import Database from 'bun:sqlite';
import { DateTime } from 'luxon';

const db = new Database('data/events.db');

interface EnrichedEvent {
  id: string;
  description_gr: string;
}

// Greek descriptions for the 5 events (400-600 words each)
const enrichedEvents: EnrichedEvent[] = [
  {
    id: '-2025-11-15',
    description_gr: `Το Θέατρο Μαριονέτες Γκότση παρουσιάζει την κλασική ιστορία του "Αλαντίν και το μαγικό λυχνάρι" σε πολλαπλούς χώρους της Αθήνας από τις 15 έως τις 22 Νοεμβρίου. Αυτή η διαχρονική ανατολίτικη ιστορία ζωντανεύει μέσα από την τέχνη των μαριονετών, προσφέροντας μια μοναδική θεατρική εμπειρία για μικρούς και μεγάλους.

Το θέατρο σκιών και μαριονετών αποτελεί μια από τις παλαιότερες μορφές θεατρικής τέχνης, με ρίζες που φτάνουν χιλιάδες χρόνια πίσω. Το Θέατρο Μαριονέτες Γκότση διατηρεί αυτή την παράδοση ζωντανή, συνδυάζοντας παραδοσιακές τεχνικές με σύγχρονη αισθητική. Η παράσταση του Αλαντίν μεταφέρει το κοινό στους μαγικούς δρόμους της Βαγδάτης, όπου ένας φτωχός νεαρός ανακαλύπτει ένα μαγικό λυχνάρι που θα αλλάξει τη ζωή του για πάντα.

Η ιστορία ακολουθεί τον Αλαντίν καθώς συναντά το τζίνι του λυχναριού, ερωτεύεται την πριγκίπισσα Γιασμίν και αντιμετωπίζει τον πονηρό μάγο που θέλει να κλέψει το μαγικό λυχνάρι. Μέσα από χιουμοριστικές στιγμές, περιπέτεια και μαγεία, η παράσταση μεταδίδει σημαντικά μηνύματα για την τιμιότητα, το θάρρος και την αληθινή αξία του ανθρώπου που δεν μετριέται από τα υλικά αγαθά.

Το Θέατρο Μαριονέτες Γκότση είναι γνωστό για τις εντυπωσιακές κατασκευές των μαριονετών του και τον εκφραστικό τρόπο με τον οποίο οι κούκλες ζωντανεύουν στη σκηνή. Κάθε μαριονέτα είναι χειροποίητη με λεπτομερή φροντίδα, από τα πολύχρωμα κοστούμια μέχρι τις εκφραστικές κινήσεις που δίνουν προσωπικότητα σε κάθε χαρακτήρα.

Η παράσταση διαρκεί περίπου μία ώρα και είναι κατάλληλη για παιδιά ηλικίας από 4 ετών και άνω. Οι γονείς και οι παππούδες θα απολαύσουν εξίσου την παράσταση, καθώς το θέατρο σκιών είναι μια μορφή τέχνης που ενώνει τις γενιές. Η παράσταση δίνεται σε διάφορους χώρους της Αθήνας, προσφέροντας ευκαιρία σε περισσότερες οικογένειες να παρακολουθήσουν αυτό το μαγευτικό θέαμα.

Τα εισιτήρια διατίθενται με κράτηση και συνιστάται η έγκαιρη προμήθειά τους καθώς οι θέσεις είναι περιορισμένες. Η παράσταση ξεκινά στις 20:00 και προσφέρει μια ιδανική βραδινή δραστηριότητα για οικογένειες που θέλουν να εισαγάγουν τα παιδιά τους στον μαγικό κόσμο του θεάτρου. Το "Αλαντίν και το μαγικό λυχνάρι" είναι μια παράσταση που θα μείνει χαραγμένη στη μνήμη κάθε παιδιού, συνδυάζοντας την παραδοσιακή τέχνη με την αιώνια μαγεία των παραμυθιών.`
  },
  {
    id: 'blend-x-seds-w-dj-gigola-2025-11-15',
    description_gr: `Το Oddity Club φιλοξενεί στις 15 Νοεμβρίου μια ξεχωριστή βραδιά με τίτλο "Blend x SEDs w/ DJ Gigola", ενώνοντας δύο από τις πιο δημιουργικές συλλογικότητες της αθηναϊκής underground σκηνής. Η εκδήλωση ξεκινά στις 20:00 και υπόσχεται να προσφέρει μια ηχητική εμπειρία που συνδυάζει experimental beats, electronic textures και avant-garde ρυθμούς.

Το Oddity Club έχει καθιερωθεί ως ένας από τους πιο προοδευτικούς χώρους της Αθήνας, φιλοξενώντας events που προωθούν την καλλιτεχνική ελευθερία και την πειραματική προσέγγιση στη μουσική. Βρίσκεται σε μια πολυσύχναστη γειτονιά της πόλης και προσελκύει κοινό που αναζητά κάτι διαφορετικό από το mainstream club scene.

Οι Blend είναι μια συλλογικότητα DJs και παραγωγών που εξερευνούν τα όρια της ηλεκτρονικής μουσικής, συνδυάζοντας στοιχεία από techno, ambient, industrial και experimental electronica. Η προσέγγισή τους χαρακτηρίζεται από την προθυμία να πειραματιστούν με ασυνήθιστους ήχους και ρυθμικές δομές, δημιουργώντας soundscapes που μεταφέρουν το κοινό σε άλλες διαστάσεις.

Οι SEDs (Sonic Electronic Distortions) είναι γνωστοί για τις ενεργειακές τους εμφανίσεις που συνδυάζουν live electronics με DJ sets, δημιουργώντας ένα υβριδικό μουσικό περιβάλλον. Η συνεργασία τους με το Blend υπόσχεται μια βραδιά γεμάτη ηχητικούς πειραματισμούς και ρυθμικές εκπλήξεις που θα κρατήσουν το κοινό σε εγρήγορση.

Ο DJ Gigola είναι ένα από τα πιο ενδιαφέροντα ονόματα της αθηναϊκής underground σκηνής, γνωστός για τα eclectic sets του που διασχίζουν πολλαπλά genres. Από IDM και broken beat μέχρι industrial techno και noise, ο Gigola κατασκευάζει μουσικά ταξίδια που προκαλούν και εμπνέουν. Η τεχνική του ικανότητα στα decks συνδυάζεται με μια βαθιά κατανόηση της μουσικής ιστορίας και των σύγχρονων τάσεων.

Το Oddity Club διαθέτει ένα εξελιγμένο ηχητικό σύστημα που αποδίδει πιστά κάθε λεπτομέρεια των ηλεκτρονικών παραγωγών, από τα χαμηλά sub-bass frequencies μέχρι τα κρυστάλλινα highs. Ο χώρος είναι σχεδιασμένος για να δημιουργεί μια immersive εμπειρία, με προσεκτικό φωτισμό που συμπληρώνει τη μουσική χωρίς να υπερτονίζει.

Η εκδήλωση απευθύνεται σε όσους αναζητούν μια ουσιαστική μουσική εμπειρία μακριά από τα εμπορικά club της πόλης. Το κοινό του Oddity αποτελείται από music enthusiasts, DJs, παραγωγούς και όποιον εκτιμά την πειραματική ηλεκτρονική μουσική. Τα εισιτήρια είναι διαθέσιμα με κράτηση και συνιστάται η έγκαιρη προμήθειά τους.`
  },
  {
    id: 'gemma-gr-live-in-athens-2025-11-15',
    description_gr: `Η GEMMA επιστρέφει στην Αθήνα για μια ξεχωριστή συναυλία στο AUX CLUB στις 15 Νοεμβρίου, φέρνοντας τον μοναδικό της ήχο που συνδυάζει indie pop ευαισθησία με ηλεκτρονικά στοιχεία. Η εμφάνιση ξεκινά στις 20:00 και αναμένεται να προσελκύσει το πιστό κοινό της καλλιτέχνιδας μαζί με νέους ακροατές που ανακαλύπτουν τη μουσική της.

Η GEMMA είναι μια από τις πιο ενδιαφέρουσες φωνές της σύγχρονης ελληνικής indie σκηνής, με ένα sound που αντλεί επιρροές από dream pop, synth-pop και alternative rock. Τα τραγούδια της χαρακτηρίζονται από ατμοσφαιρικά synthesizers, catchy melodies και στίχους που εξερευνούν θέματα προσωπικής ανάπτυξης, σχέσεων και της σύγχρονης αστικής ζωής.

Το AUX CLUB έχει καθιερωθεί ως ένας από τους πιο σημαντικούς χώρους για live εμφανίσεις στην Αθήνα, φιλοξενώντας τόσο ελληνικά όσο και διεθνή acts. Ο χώρος διαθέτει εξαιρετικό ηχητικό σύστημα και μια ατμόσφαιρα που συνδυάζει την intimacy ενός μικρού club με την επαγγελματική παραγωγή ενός μεγάλου venue. Βρίσκεται σε προσβάσιμη τοποθεσία και προσελκύει κοινό που εκτιμά την ποιοτική live μουσική.

Η GEMMA ξεκίνησε την καριέρα της πριν από μερικά χρόνια, κυκλοφορώντας singles που γρήγορα κέρδισαν την αναγνώριση στα ελληνικά music blogs και τα streaming platforms. Το live show της έχει εξελιχθεί σημαντικά, με την καλλιτέχνιδα να συνοδεύεται από μια ομάδα μουσικών που αποδίδουν πιστά τον στουντιακό ήχο ενώ προσθέτουν ενέργεια και αυθορμητισμό στις συνθέσεις.

Η φωνή της GEMMA είναι αναγνωρίσιμη και εκφραστική, ικανή να μεταδώσει τόσο την ευαισθησία όσο και τη δύναμη που χαρακτηρίζει τα τραγούδια της. Οι συνθέσεις της κινούνται από ατμοσφαιρικά, αργά κομμάτια μέχρι πιο energetic, danceable tracks που κάνουν το κοινό να κινηθεί.

Η συναυλία στο AUX CLUB θα περιλαμβάνει υλικό από τις πρόσφατες κυκλοφορίες της καλλιτέχνιδας, καθώς και πιθανά νέα κομμάτια που έχει ετοιμάσει. Το setlist συνήθως συνδυάζει τα πιο γνωστά της τραγούδια με deeper cuts που οι fans θα εκτιμήσουν. Η παραγωγή της συναυλίας περιλαμβάνει προσεκτικά σχεδιασμένο φωτισμό που συμπληρώνει τη μουσική και δημιουργεί μια immersive εμπειρία.

Τα εισιτήρια είναι διαθέσιμα με κράτηση και συνιστάται η έγκαιρη προμήθειά τους καθώς οι συναυλίες της GEMMA συχνά sold out. Η εκδήλωση απευθύνεται σε όλους όσοι αγαπούν την ελληνική indie σκηνή και θέλουν να υποστηρίξουν την εγχώρια δημιουργία.`
  },
  {
    id: '2b2f8d2059a300be',
    description_gr: `Οι Daenoma γιορτάζουν την κυκλοφορία του πρώτου τους album "Mindtrapped" με μια explosive συναυλία στο ΙΛΙΟΝ Plus το Σάββατο 15 Νοεμβρίου στις 20:30. Η βραδιά θα περιλαμβάνει υποστηρικτικές εμφανίσεις από τους Pretend We Are Dead και τους Karuzel, δημιουργώντας ένα ισχυρό lineup rock acts που θα συγκλονίσει την αθηναϊκή underground σκηνή.

Οι Daenoma είναι ένα power trio που συνδυάζει στοιχεία από grunge, stoner και alternative rock, δημιουργώντας έναν ήχο που είναι ταυτόχρονα βαρύς και μελωδικός. Το "Mindtrapped" είναι το αποτέλεσμα χρόνων songwriting και refinement, με κομμάτια που εξερευνούν θέματα ψυχικής υγείας, εγκλωβισμού στις δικές μας σκέψεις και την αναζήτηση ελευθερίας μέσα από τη μουσική.

Το album ηχογραφήθηκε σε στούντιο της Αθήνας και αποτυπώνει την ενέργεια και την αμεσότητα των live εμφανίσεων του συγκροτήματος. Οι παραγωγές είναι raw αλλά polished, επιτρέποντας στα riffs να αναδύονται με δύναμη ενώ οι φωνητικές αρμονίες προσθέτουν depth. Κάθε κομμάτι έχει τη δική του προσωπικότητα, από stoner rock jams μέχρι πιο atmospheric interludes.

Οι Pretend We Are Dead φέρνουν μια πιο aggressive, punk-influenced προσέγγιση στο rock, με fast-paced κομμάτια και socially conscious lyrics. Το όνομά τους είναι ένα tribute στους L7, και η μουσική τους μοιράζεται την ίδια αποφασιστικότητα και attitude. Η εμφάνισή τους θα ζεστάνει το κοινό για την κύρια παράσταση της βραδιάς.

Οι Karuzel προσθέτουν μια πιο psychedelic διάσταση στο lineup, με jammy εκτελέσεις που συνδυάζουν stoner rock με progressive elements. Οι εμφανίσεις τους είναι γνωστές για την αυθορμητότητά τους και την ικανότητα του συγκροτήματος να δημιουργεί hypnotic grooves που παρασύρουν το κοινό.

Το ΙΛΙΟΝ Plus είναι ένας live music venue που έχει φιλοξενήσει πολλά σημαντικά rock και metal shows στην Αθήνα. Ο χώρος διαθέτει καλό ηχητικό σύστημα και μια ατμόσφαιρα που ευνοεί την άμεση επικοινωνία μεταξύ των μπαντών και του κοινού. Η σκηνή είναι αρκετά μεγάλη για να φιλοξενήσει την ενεργητική performance που οι Daenoma σίγουρα θα παρουσιάσουν.

Η βραδιά ξεκινά στις 20:30 και συνιστάται να φτάσετε νωρίς για να προλάβετε τα opening acts. Τα εισιτήρια είναι διαθέσιμα με κράτηση και η τιμή τους υποστηρίζει απευθείας τα συγκροτήματα και την ανεξάρτητη μουσική σκηνή της Αθήνας.`
  },
  {
    id: '4bf6d0315091ec8e',
    description_gr: `Οι θρυλικοί Βρετανοί Sad Lovers & Giants επιστρέφουν στην Αθήνα για μια ξεχωριστή συναυλία στο Gagarin 205 Live Music Space στις 15 Νοεμβρίου στις 21:00, μαζί με τους Forever Grey. Η εκδήλωση παρουσιάζεται από τη Death Disco και υπόσχεται να προσφέρει μια βραδιά γεμάτη post-punk, goth, darkwave, dream pop και indie ήχους που έχουν ορίσει γενιές.

Οι Sad Lovers & Giants σχηματίστηκαν το 1980 στο Watford της Αγγλίας και αποτελούν έναν από τους πρωτοπόρους του post-punk sound που εξελίχθηκε σε gothic rock και dream pop. Το όνομά τους προέρχεται από ένα τραγούδι των Nico & The Velvet Underground, και η μουσική τους φέρει πράγματι το DNA αυτής της psychedelic, melancholic παράδοσης.

Το debut album τους "Epic Garden Music" (1982) θεωρείται κλασικό του είδους, με κομμάτια όπως το "Lost in a Moment" να αποτυπώνουν την ατμοσφαιρική ένταση και το melodic songwriting που χαρακτηρίζει τη μπάντα. Στη διάρκεια των δεκαετιών, οι Sad Lovers & Giants έχουν κυκλοφορήσει πολλά albums και έχουν επηρεάσει αμέτρητα συγκροτήματα στο post-punk και alternative rock spectrum.

Ο ήχος τους συνδυάζει jangly, reverb-soaked κιθάρες, melodic basslines, atmospheric keyboards και τη distinctive φωνή που μεταδίδει τόσο fragility όσο και δύναμη. Τα τραγούδια τους κινούνται από upbeat, danceable tracks μέχρι σκοτεινά, introspective κομμάτια που εξερευνούν θέματα αγάπης, απώλειας και υπαρξιακής αναζήτησης.

Οι Forever Grey είναι ένα ελληνικό συγκρότημα που συνεχίζει την παράδοση του post-punk και darkwave στη σύγχρονη εποχή. Η μουσική τους αντλεί επιρροές από τους κλασικούς ήχους των '80s αλλά προσθέτει σύγχρονα στοιχεία, δημιουργώντας έναν ήχο που είναι ταυτόχρονα nostalgic και φρέσκος. Η εμφάνισή τους ως opening act είναι ιδανική, καθώς η αισθητική τους ταιριάζει απόλυτα με τους Sad Lovers & Giants.

Το Gagarin 205 είναι ένας από τους πιο σημαντικούς live music venues της Αθήνας, με ιστορία φιλοξενίας διεθνών και ελληνικών acts. Ο χώρος διαθέτει εξαιρετική ακουστική, επαγγελματικό φωτισμό και μια ατμόσφαιρα που σέβεται τόσο τους καλλιτέχνες όσο και το κοινό. Βρίσκεται στη Λιοσίων και είναι εύκολα προσβάσιμος με μέσα μαζικής μεταφοράς.

Η Death Disco είναι γνωστή για την επιμέλεια των events της, φέρνοντας στην Αθήνα σημαντικά ονόματα από τη διεθνή post-punk και goth σκηνή. Τα data fragments που προβάλλονται κατά τη διάρκεια των συναυλιών προσθέτουν μια visual διάσταση που συμπληρώνει τη μουσική. Τα εισιτήρια είναι διαθέσιμα με κράτηση.`
  }
];

/**
 * Update events with Greek descriptions
 */
function updateEvents(): void {
  console.log('📝 Inserting Greek descriptions for 5 events\n');

  const now = DateTime.now().setZone('Europe/Athens').toISO();
  let successCount = 0;
  let failureCount = 0;

  for (const event of enrichedEvents) {
    try {
      // Check if event exists
      const existing = db.prepare('SELECT id, title FROM events WHERE id = ?').get(event.id) as any;

      if (!existing) {
        console.log(`❌ Event ${event.id} not found in database`);
        failureCount++;
        continue;
      }

      // Validate word count
      const wordCount = event.description_gr.split(/\s+/).length;
      console.log(`🔄 Updating: ${existing.title}`);
      console.log(`   ID: ${event.id}`);
      console.log(`   Word count: ${wordCount} words`);

      if (wordCount < 380 || wordCount > 620) {
        console.warn(`   ⚠️  Word count outside target range (400-600)`);
      }

      // Update database
      db.prepare(`
        UPDATE events
        SET full_description_gr = ?,
            updated_at = ?
        WHERE id = ?
      `).run(event.description_gr, now, event.id);

      console.log(`   ✅ Updated successfully\n`);
      successCount++;

    } catch (error: any) {
      console.error(`   ❌ Failed: ${error.message}\n`);
      failureCount++;
    }
  }

  console.log('📊 Summary:');
  console.log(`   ✅ Successful: ${successCount}`);
  console.log(`   ❌ Failed: ${failureCount}`);
  console.log(`   📝 Total processed: ${successCount + failureCount}`);
}

/**
 * Verify enrichment status
 */
function verifyEnrichment(): void {
  console.log('\n🔍 Verifying enrichment status:\n');

  for (const event of enrichedEvents) {
    const result = db.prepare(`
      SELECT id, title,
             CASE
               WHEN full_description_gr IS NOT NULL AND full_description_gr != '' THEN 'enriched'
               ELSE 'missing'
             END as status,
             LENGTH(full_description_gr) as length
      FROM events
      WHERE id = ?
    `).get(event.id) as any;

    if (result) {
      const wordCount = result.length ? Math.round(result.length / 5.5) : 0; // Approximate Greek word length
      console.log(`${result.status === 'enriched' ? '✅' : '❌'} ${result.title}`);
      console.log(`   ID: ${result.id}`);
      console.log(`   Status: ${result.status}`);
      if (result.status === 'enriched') {
        console.log(`   Length: ${result.length} chars (~${wordCount} words)`);
      }
      console.log();
    } else {
      console.log(`❌ Event ${event.id} not found\n`);
    }
  }
}

// Run the script
console.log('🇬🇷 Starting Greek description insertion for 5 events\n');
updateEvents();
verifyEnrichment();

db.close();
console.log('\n✅ Process complete!');
